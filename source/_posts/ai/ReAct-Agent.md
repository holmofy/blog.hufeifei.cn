
---
title: ReAct Agentæ¶æ„è®¾è®¡æ¨¡å¼
date: 2026-1-3
categories: AI
tags: 
- AI
- MCP
---

2025å¹´ç»“æŸï¼Œè¿‡å»ä¸€å¹´é‡Œï¼ŒAIç«çˆ†çš„ä¸€æ‰¹ã€‚ä»å¼€å¹´æ¢æ–‡å³°æ·±åº¦æ±‚ç´¢çš„DeepSeekçˆ†ç«ï¼Œå†åˆ°Cursor / Claude Codeè¿™ç§AIç¼–ç å·¥å…·å‡ºç°ï¼ŒçœŸçš„é¢ è¦†äº†ç¨‹åºå‘˜çš„ä¸‰è§‚ã€‚AIç»ˆäºä»åªä¼šèŠå¤©çš„æœºå™¨äººï¼Œå˜æˆäº†èƒ½çœŸæ­£èµ‹èƒ½å·¥ä½œçš„ç”Ÿäº§åŠ›å·¥å…·ã€‚è€Œè¿™éƒ½å½’åŠŸäºAI Agentï¼Œæ‰€ä»¥2025å¹´ä¹Ÿè¢«ç§°ä¸ºAI Agentå…ƒå¹´ã€‚

å¹´åº•çš„æ—¶å€™[å§šé¡ºé›¨](https://ysymyth.github.io/)å…¥èŒè…¾è®¯çš„äº‹å„¿çˆ†ç«äº†ï¼Œå›å›½å‰ä»–å†™äº†ç¯‡ã€Š[The Second Half](https://ysymyth.github.io/The-Second-Half/)ã€‹(ä¸­æ–‡ç‰ˆï¼š[AIè¿›å…¥ä¸‹åŠåœº](https://zhuanlan.zhihu.com/p/1896310535865233616))ã€‚

<img width="1536" height="1024" alt="å§šé¡ºé›¨è®ºæ–‡é›†" src="https://github.com/user-attachments/assets/3a09d8f6-6710-4fb9-bd13-c52053565be5" />

çœ‹äº†ä¸€ä¸‹ä»–çš„å‡ ç¯‡è®ºæ–‡ï¼Œ[ToTæ€ç»´æ ‘: åˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹è¿›è¡Œæœ‰æ„è¯†çš„é—®é¢˜è§£å†³](https://arxiv.org/abs/2305.10601)å’Œ[ReAct Agentæ¶æ„](https://arxiv.org/abs/2210.03629)ï¼ˆä¸­æ–‡ç‰ˆï¼š[LLM Agent çš„å¼€å±±ä¹‹ä½œ](https://zhuanlan.zhihu.com/p/1986190160241644560)ï¼‰æœ€å…·å½±å“åŠ›ã€‚å…¶ä¸­ReActæ˜¯Promptå·¥ç¨‹æ—¶ä»£çš„â€œåˆ†æ°´å²­è®ºæ–‡â€ï¼Œä¹Ÿæ˜¯Agentæ—¶ä»£çš„â€œç†è®ºèµ·ç‚¹â€ã€‚

è¿™ç¯‡æ–‡ç« æˆ‘è®°å½•ä¸€ä¸‹æˆ‘å¯¹AI Agentçš„ä¸€äº›æ€è€ƒã€‚

> **AI Agent = LLM ä½œä¸ºå†³ç­–å™¨ï¼ˆPlannerï¼‰ + å·¥å…·æ‰§è¡Œå¾ªç¯ï¼ˆAct Loopï¼‰**

## ReActä¸çŸ¥è¡Œåˆä¸€

ç°åœ¨çš„å¤§æ¨¡å‹æ›´åƒæ˜¯ä¸€ä¸ªçŸ¥è¯†æ¸Šåšçš„å­¦è€…ï¼Œä»–è¯»äº†å…¨ä¸–ç•Œæ–‡æ¡£ã€ä¹¦ç±ã€è®ºæ–‡ï¼Œä½†æ˜¯ä»æœªä¸‹è¿‡åœ°å¹²è¿‡æ´»ï¼Œæ²¡æœ‰çœŸæ­£debugè¿‡çº¿ä¸Šæ•…éšœï¼Œå°±åƒä¸ªåšå£«å­¦å†çš„æ–°å…µè›‹å­ã€‚

å³ä½¿æ˜¯ CoT / ToTï¼š æ¨ç†ä¹Ÿåªå‘ç”Ÿåœ¨ token ç©ºé—´ï¼Œæ²¡æœ‰å¤–éƒ¨ç¯å¢ƒçš„æ„ŸçŸ¥ï¼Œä¸æ˜¯çœŸå®è·µã€‚

![ReActæ¶æ„å›¾](https://i-blog.csdnimg.cn/direct/013fb3febf17434ba0e7222b2e5fe59b.png)

ReActå°±æ˜¯ç»“åˆReasoningå’ŒActionï¼Œå°†æ¨ç†çš„å†…å®¹è½¬åŒ–æˆå¯å®è·µçš„ä»»åŠ¡ï¼Œå†æ ¹æ®ä»»åŠ¡æ‰§è¡Œåç¯å¢ƒåé¦ˆçš„é”™è¯¯å†è¿›è¡Œåæ€ï¼Œå¦‚æ­¤å¾ªç¯æœ€ç»ˆè¾¾åˆ°ç›®æ ‡ã€‚

```
ç”Ÿæˆæç¤ºè¯ â†’ è°ƒç”¨ AI â†’ è§£æå“åº” â†’ æ‰§è¡Œå·¥å…· â†’ é‡å¤ç›´åˆ°å®Œæˆ
```

ç¨å¾®å·¥ç¨‹åŒ–æˆè¿™æ ·ï¼š

```
1. æ„é€ ä¸Šä¸‹æ–‡ / æç¤ºè¯ï¼ˆPrompt + Stateï¼‰
2. è°ƒç”¨ LLMï¼ˆå†³ç­– / ç”Ÿæˆä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼‰
3. è§£æ LLM è¾“å‡ºï¼ˆç»“æ„åŒ– Action / Tool Callï¼‰
4. æ‰§è¡Œå·¥å…·ï¼ˆä»£ç  / API / ç³»ç»Ÿæ“ä½œï¼‰
5. æ›´æ–°çŠ¶æ€ï¼ˆMemory / Observationï¼‰
6. åˆ¤æ–­æ˜¯å¦å®Œæˆï¼Œå¦åˆ™å›åˆ° 1
```

è¿™å°±æ˜¯ **Agent Loopï¼ˆReAct / Tool-Use Loopï¼‰**ã€‚

çœŸå® Agent ä¸€å®šæ¯”è¿™å‡ æ­¥å¤æ‚ï¼Œè¿™åªæ˜¯ **â€œèƒ½è·‘èµ·æ¥çš„æœ€å° Agentâ€**ï¼Œå·¥ä¸šçº§é€šå¸¸ä¼šåŠ è¿™äº›å±‚ï¼š

### 1. çŠ¶æ€ï¼ˆState / Memoryï¼‰

* short-term memoryï¼ˆå½“å‰ä»»åŠ¡ä¸Šä¸‹æ–‡ï¼‰
* long-term memoryï¼ˆå†å²ã€å‘é‡åº“ï¼‰
* working memoryï¼ˆä¸­é—´ç»“æœï¼‰

å¦åˆ™ Agent ä¼šâ€œå¤±å¿†â€ã€‚

### 2. çº¦æŸä¸æ§åˆ¶ï¼ˆGuardrailï¼‰

* æœ€å¤§å¾ªç¯æ¬¡æ•°ï¼ˆé˜²æ­¢æ­»å¾ªç¯ï¼‰
* å·¥å…·ç™½åå•
* è¾“å‡º Schema æ ¡éªŒ
* æˆæœ¬ / token é™åˆ¶

### 3. å¤±è´¥å¤„ç†ï¼ˆRecoveryï¼‰

* Tool æ‰§è¡Œå¤±è´¥ â†’ åé¦ˆç»™ LLM
* è§£æå¤±è´¥ â†’ è®© LLM é‡è¯• / ä¿®æ­£æ ¼å¼
* ç»“æœä¸æ»¡è¶³ç›®æ ‡ â†’ è‡ªæˆ‘åæ€ï¼ˆself-critiqueï¼‰

### ğŸ”¹ 4. ç»ˆæ­¢æ¡ä»¶ï¼ˆDone / Stopï¼‰

ç»ˆæ­¢ä¸åªæ˜¯ï¼š

* â€œLLM è¯´å®Œæˆäº†â€

è€Œæ˜¯ï¼š

* è¾¾æˆç›®æ ‡æ¡ä»¶
* æ²¡æœ‰å¯æ‰§è¡Œ Action
* è¾¾åˆ°æœ€å¤§è¿­ä»£
* ç½®ä¿¡åº¦ / è¯„åˆ†è¾¾æ ‡

## è¿™ä¸ªæŠ½è±¡ï¼Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ªã€ŒçŠ¶æ€æœºã€

ä»å·¥ç¨‹è§’åº¦çœ‹ï¼Œ**Agent = ä¸€ä¸ªå¯æ§çš„çŠ¶æ€æœº**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Prompt â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LLM   â”‚  â† å†³ç­–å™¨
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Parser â”‚  â† åè®®å±‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tools  â”‚  â† ä¸–ç•Œæ¥å£
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ State  â”‚  â† è®°å¿† / ä¸Šä¸‹æ–‡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†‘
    â””â”€â”€â”€â”€ loop
```

LangGraph/AutoGen/CrewAI/Spring AI Agentç­‰AI Agentæ¡†æ¶**æœ¬è´¨éƒ½æ˜¯åœ¨ç®¡è¿™ä¸ªå¾ªç¯**ã€‚

## å·¥ç¨‹åŒ–è½åœ°ï¼šAI Agentæ¡†æ¶

> **ReAct å¾ªç¯æœ¬èº«å¾ˆç®€å•ï¼ŒAgentæ¡†æ¶ä¸æ˜¯ä¸ºâ€œèƒ½è·‘â€è€Œç”Ÿçš„ï¼Œè€Œæ˜¯ä¸ºâ€œèƒ½é•¿æœŸç¨³å®šåœ°è·‘åœ¨çœŸå®ä¸–ç•Œâ€è€Œç”Ÿçš„ã€‚**

æœ€å° ReAct å¾ªç¯çœŸçš„å¾ˆç®€å•ï¼Œæœ€ç®€ç‰ˆ ReActï¼Œå¤§æ¦‚å°±è¿™ä¹ˆç‚¹é€»è¾‘ï¼š

```text
while not done:
  prompt = build_prompt(state)
  response = call_llm(prompt)
  action = parse(response)
  observation = run_tool(action)
  state.update(observation)
```


### æ¨¡å‹è¾“å‡ºä¸ç¨³å®šï¼ˆè¿™æ˜¯ç¬¬ä¸€ä¸ªåœ°ç‹±ï¼‰

ä½ ä»¥ä¸º LLM ä¼šä¹–ä¹–è¾“å‡ºï¼š

```json
{ "tool": "search", "args": { "q": "xxx" } }
```

ç°å®æ˜¯ï¼š

* JSON å°‘ä¸ªæ‹¬å·
* å­—æ®µæ‹¼é”™
* è¾“å‡ºåŠæˆªè‡ªç„¶è¯­è¨€
* tool name æ‹¼é”™

**æ¡†æ¶åšçš„ç¬¬ä¸€ä»¶äº‹ï¼š**

* schema æ ¡éªŒ
* è‡ªåŠ¨é‡è¯•
* self-heal prompt
* function calling å…œåº•

> å¦åˆ™ä½  80% çš„ä»£ç éƒ½åœ¨ `try / catch + retry`

### æ— é™å¾ªç¯ï¼ˆæ–°æ‰‹ 100% ä¼šè¸©ï¼‰

LLM å¾ˆæ“…é•¿ï¼š

* â€œæˆ‘å†è¯•è¯•â€
* â€œæ¢ä¸ªæ–¹å¼â€
* â€œç»§ç»­æ€è€ƒâ€

ç»“æœå°±æ˜¯ï¼š

```
Thought â†’ Action â†’ Observation
Thought â†’ Action â†’ Observation
Thought â†’ Action â†’ Observation
ï¼ˆæ°¸ä¸ç»“æŸï¼‰
```

æ¡†æ¶æä¾›ï¼š

* max_steps
* stop condition
* budget / token ä¸Šé™
* å¤±è´¥ç»ˆæ­¢ç­–ç•¥

---

### ä¸€æ—¦ä»»åŠ¡å˜å¤æ‚ï¼Œä½ çš„ while ç›´æ¥å´©

ç®€å•ä»»åŠ¡ï¼š

> â€œæŸ¥å¤©æ°”â€

çœŸå®ä»»åŠ¡ï¼š

* å…ˆæ‹†ä»»åŠ¡
* å­ä»»åŠ¡å¹¶è¡Œ
* ä¸­é€”å¤±è´¥å›æ»š
* ä¾èµ–å‰åºç»“æœ

ä½ ä¼šä»ï¼š

```rust
while !done {}
```

è¿›åŒ–åˆ°ï¼š

```text
DAG / çŠ¶æ€æœº / æœ‰å‘å›¾
```

**è¿™å°±æ˜¯ LangGraph å­˜åœ¨çš„åŸå› ã€‚**

### ä½ éœ€è¦â€œè®°å¿†â€ï¼Œè€Œä¸æ˜¯æ— é™ prompt

æ–°æ‰‹å¸¸è§åšæ³•ï¼š

* æŠŠæ‰€æœ‰å†å²æ‹¼è¿› prompt

ç»“æœï¼š

* token çˆ†ç‚¸
* æˆæœ¬å¤±æ§
* æ¨¡å‹å¼€å§‹èƒ¡è¯´

æ¡†æ¶æä¾›ï¼š

* short-term memory
* long-term memoryï¼ˆå‘é‡åº“ï¼‰
* summarization
* selective recall

### å¯è§‚æµ‹æ€§ & Debugï¼ˆè¿™æ˜¯å·¥ç¨‹åˆ†æ°´å²­ï¼‰

ä½ ä¸€å®šä¼šé‡åˆ°ï¼š

> â€œè¿™æ¬¡ä¸ºä»€ä¹ˆä¸è°ƒç”¨å·¥å…·äº†ï¼Ÿâ€

å¦‚æœæ²¡æœ‰æ¡†æ¶ï¼š

* çœ‹ prompt çŒœ
* é‡æ”¾æˆæœ¬æé«˜

æ¡†æ¶èƒ½ï¼š

* trace æ¯ä¸€æ­¥ Thought / Action
* replay agent
* æ‰“ logã€æŒ‡æ ‡ã€è€—æ—¶

### å®‰å…¨ & å¯æ§ï¼ˆä¸Šçº¿å¿…é¡»ï¼‰

ç°å®ä¸–ç•Œé‡Œä½ ä¸èƒ½è®© LLMï¼š

* éšä¾¿ exec
* è°ƒæœªçŸ¥ API
* è®¿é—®ä¸è¯¥è®¿é—®çš„æ•°æ®

æ¡†æ¶æä¾›ï¼š

* tool ç™½åå•
* sandbox
* permission
* policy enforcement

## Rustç¤¾åŒºç›¸å…³åº“

* https://github.com/zavora-ai/adk-rust å¯¹æ ‡è°·æ­Œçš„adkï¼šhttps://github.com/google/adk-python
* https://github.com/Abraxas-365/langchain-rust å¯¹æ ‡å®˜æ–¹langchain: https://github.com/langchain-ai/langchain
* https://github.com/sobelio/llm-chain

---
title: 排列组合问题
date: 2021-11-17
categories: Math
mathjax: true
tags: 
- 数学
keywords: 排列组合
---

## 排列问题：关心顺序，区别对待

> 三枚奖牌，金银铜颁发给8个人中的3个人，有多少种方法？
>
> 8个人选出3个人进行排名，有多少种方法

![](./permutations/permutations.png)

第一步：第1名，可以在8个人中任选一个，有8种选择。A可以被替换为 B C D E F G H中的任何一个。

第二步：第2名，可以在除去已经获得金牌的人之外的7个人中任选一个，有7种选择。

第三步：第3名，在已经获得金牌、银牌的两个人之外的6个人中任选一个，有6种选择。

那么很明显，总共的颁奖方式有**8 \* 7 \* 6 种**

> 对8个人都进行排名，有多少种方法？

很明显，从第一名一直到第八名，共有**8\*7\*6\*5\*4\*3\*2\*1**种排法。

发奖牌只发三个就不发了，后面的五个人第几名都不关心了，那么排列问题可以归纳为：
$$
\frac{8!}{5!}=\frac{8*7*6*5*4*3*2*1}{5*4*3*2*1}=8*7*6
$$
也就是
$$
\frac{8!}{5!}=\frac{8!}{(8-3)!}
$$
那么我现在有n个人，选出k个人进行排名，有多少种排列方式呢？
$$
P_n^k=\frac{n!}{(n-k)!}
$$

特别的：
$$
P_n^n=n!
$$




## 组合问题：不关心顺序，一视同仁

> 仍然是8个人，现在不发奖牌，**不排名**，只是选出三个人，有多少种组合方式呢？

因为**不关心顺序**，所以选出的三个人是"ABC"、"ACB"、BAC"、"BCA"、"CBA"还是"CAB"我都不关心，**这6种排序方式都归为同一种组合**。所以我只要排序问题后面，把三个人的排序方式除掉就行了。
$$
\frac{8!}{(8-3)!*3!}
$$


根据排列与组合之间的关系，**组合问题就是去除掉排列问题中组合数量的排列关系**
$$
C_n^k=\frac{P_n^k}{P_k^k}=\frac{n!}{(n-k)!*k!}
$$
特殊的：
$$
0!=1 \\
C_n^n=\frac{P_n^n}{P_n^n}=1
$$


## 分组问题：多重排列组合

分组问题可以看成是多个组合问题

1. 平均分组

    > 6个人两两分组，有多少种组队方式呢？

    因为都是两人组，这里不再关心分组的排列顺序，三个分组都是等价的，所以可以除去所有队伍数量的排列数
    $$
    \begin{align}
    \frac{C_6^2*C_4^2*C_2^2}{P_3^3}&=\frac{\frac{6!}{4!*2!}*\frac{4!}{2!*2!}*\frac{2!}{0!*2!}}{3!} \\
    &=\frac{6!}{2!*2!*2!*3!} \\
    &=15
    \end{align}
    $$

2. 不平均分组

   > 6个人分3组，各组人数分别为3人、2人、1人，共有多少分法？

   因为三组数量不一样，所以选出的三组是有区别的，不能“一视同仁”。

   但是先选1人还是先选3人，这个是无所谓的，这就跟排列问题，先给铜牌颁奖还是先给金牌颁奖是不会影响结果的。
   $$
   C_6^3*C_3^2*C_1^1=\frac{6!}{3!*3!}*\frac{3!}{2!*1!}=60 \\
   C_6^1*C_5^2*C_3^3=\frac{6!}{5!*1!}*\frac{5!}{3!*2!}=60
   $$
   
3. 部分平均分组

   > 6个人分成3组，各组人数分别为4人、1人、1人，共有多少种分法？

   先用上面的逻辑思考一下，按照不平均分组的逻辑，这个应该有：
   $$
   C_6^4*C_2^1*C_1^1
   $$
   但是当我从6个人选出4个人之后，接下来的1个人分组是等价的，其实分组方式就已经确定的，不关心后面两个人分组的顺序，所以实际的结果应该是：
   $$
   C_6^4=\frac{C_6^4*C_2^1*C_1^1}{P_2^2}=15
   $$

   > 延伸思考：8个人分成3组，各组人数分别为4人、2人、2人，共有多少分法？

   $$
   \frac{C_8^4*C_4^2*C_2^2}{P_2^2}=\frac{8!}{4!*4!}*\frac{4!}{2!*2!}\div2!=210
   $$
   
4. 不定量分组

   > 6个人分成3组，每组至少一个人，共有多少种分法？

   这个问题需要把几种分组情况列出来：4,1,1、3,2,1、2,2,2。其中等分2,2,2分组相同。这实际是前三个问题的汇总。
   $$
   \frac{C_6^4*C_2^1*C_1^1}{P_2^2} + C_6^3*C_3^2*C_1^1 + \frac{C_6^2*C_4^2*C_2^2}{P_3^3}=15+15+60=90
   $$
   
5. 分配问题

    > 6个人分成3组，每组至少一个人，然后3组分别被分配到一班、二班、三班，共有多少种分法？

    此时这个问题就有排列问题了，也就是前面的结果再乘上一个3组的全排列：
    $$
    (\frac{C_6^4*C_2^1*C_1^1}{P_2^2} + C_6^3*C_3^2*C_1^1 + \frac{C_6^2*C_4^2*C_2^2}{P_3^3})*P_3^3=540
    $$

## 相同元素分组问题











https://zhuanlan.zhihu.com/p/41855459

https://zhuanlan.zhihu.com/p/336248739